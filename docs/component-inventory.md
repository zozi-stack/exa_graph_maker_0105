# Component Inventory

> Auto-generated by BMAD Document Project workflow  
> Scan Level: Exhaustive  
> Generated: 2026-01-04

## Overview

**Total Components:** 6  
**Styling Approach:** CSS Modules  
**Component Pattern:** Functional components with React Hooks

---

## Component Catalog

### 1. App (`src/App.tsx`)

**Type:** Root Application Component  
**Lines of Code:** 175  
**Dependencies:** React hooks, EvalChart, ControlPanel

**Responsibilities:**
- Manages global graph state (multiple charts on canvas)
- Handles drag-and-drop positioning of charts
- Coordinates data flow between ControlPanel and EvalChart

**State Management:**
```typescript
const [graphs, setGraphs] = useState<GraphWithPosition[]>([...]);
const [activeGraphIndex, setActiveGraphIndex] = useState(0);
const [draggingIndex, setDraggingIndex] = useState<number | null>(null);
```

**Key Functions:**
- `updateActiveGraph(data)` - Updates the currently selected graph
- `addGraph(chartType)` - Creates new bar chart or scatter plot
- `removeGraph(index)` - Removes a graph from canvas
- `handleMouseDown/Move/Up` - Drag interaction handlers

---

### 2. EvalChart (`src/components/EvalChart.tsx`)

**Type:** Data Visualization Component  
**Lines of Code:** 545  
**Dependencies:** D3.js, dom-to-image-more, Legend

**Responsibilities:**
- Renders bar charts and scatter plots using D3
- Manages SVG layers (grid background, bars foreground)
- Handles PNG export functionality
- Positions company logos on chart elements

**Props Interface:**
```typescript
interface EvalChartProps {
  data: EvalData;
}
```

**Key Features:**
- Dual SVG layer architecture (grid + bars)
- Noise filter effect on bars (`feTurbulence`)
- Auto-scaling Y-axis based on data
- Flying border animation on mount
- Icon overlay system for company logos

**Chart Types Supported:**
1. **Bar Chart** - Vertical bars with percentage labels
2. **Scatter Plot** - Points with labels and sublabels

---

### 3. ControlPanel (`src/components/ControlPanel.tsx`)

**Type:** Form/Control Component  
**Lines of Code:** 433  
**Dependencies:** React hooks, EvalData types

**Responsibilities:**
- Provides UI for editing chart data
- Manages accordion-style graph list
- Handles logo upload via FileReader API
- Supports both bar chart and scatter plot editing

**Props Interface:**
```typescript
interface ControlPanelProps {
  data: EvalData;
  onDataChange: (data: EvalData) => void;
  graphs: EvalData[];
  activeGraphIndex: number;
  onSelectGraph: (index: number) => void;
  onAddGraph: (chartType: ChartType) => void;
  onRemoveGraph: (index: number) => void;
}
```

**UI Sections:**
- Chart title and axis labels
- Company/point management (add/remove/edit)
- Logo upload with preview
- Reset to defaults button
- Add new graph buttons (bar/scatter)

---

### 4. Legend (`src/components/Legend.tsx`)

**Type:** Display Component  
**Lines of Code:** 42  
**Dependencies:** Company type, CSS Module

**Responsibilities:**
- Displays chart legend with company icons
- Supports both predefined and uploaded icons
- Positioned absolutely in top-right of chart

**Props Interface:**
```typescript
interface LegendProps {
  companies: Company[];
}
```

---

### 5. BarColumn (`src/components/BarColumn.tsx`)

**Type:** Display Component (Legacy)  
**Lines of Code:** 47  
**Dependencies:** Company type, CSS Module

**Note:** This component appears to be a legacy/alternative implementation not currently used in the main rendering flow. The EvalChart component renders bars directly via D3.

**Responsibilities:**
- Renders individual bar with icon and label
- Animated height based on accuracy value

---

### 6. YAxis (`src/components/YAxis.tsx`)

**Type:** Display Component (Legacy)  
**Lines of Code:** 29  
**Dependencies:** CSS Module

**Note:** This component also appears to be legacy. The EvalChart component renders the Y-axis directly via D3.

**Responsibilities:**
- Renders Y-axis with percentage tick labels
- Vertical label rotation

---

## Component Hierarchy

```
App
├── ControlPanel
│   └── (internal: graph accordions, form inputs)
└── EvalChart (×N, one per graph)
    └── Legend
```

---

## Design System Elements

### Typography
- **Title Font:** ABC Arizona Flare (serif)
- **Body Font:** ABC Diatype (sans-serif)
- **Monospace:** ABC Diatype Mono (for percentages)

### Color Palette
| Token | Value | Usage |
|-------|-------|-------|
| Primary Blue | `#3D3FEE` | Exa brand, highlighted bars |
| Neutral Gray | `#DFDFDF` | Non-highlighted bars |
| Background | `#FAF9F7` | Chart container |
| Canvas BG | `#F5F5F5` | Workspace background |
| Text Primary | `#000000` | Labels, titles |
| Text Secondary | `#757575` | Axis labels |
| Grid Lines | `#D0D0D0` | Chart grid |

### Spacing & Sizing
- Chart dimensions: 640×300px
- Margin: `{ top: 15, right: 30, bottom: 50, left: 70 }`
- Icon size: 26px (bars), 12px (scatter/legend)
- Border radius: 12px (containers), 6px (inputs)

---

## Styling Patterns

All components use CSS Modules with the `.module.css` extension:

| Component | Style File |
|-----------|------------|
| App | `App.css` (global) |
| EvalChart | `EvalChart.module.css` |
| ControlPanel | `ControlPanel.module.css` |
| BarColumn | `BarColumn.module.css` |
| Legend | `Legend.module.css` |
| YAxis | `YAxis.module.css` |

**Global styles** in `src/index.css`:
- Font-face declarations
- CSS reset
- Root element sizing

